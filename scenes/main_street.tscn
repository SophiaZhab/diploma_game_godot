[gd_scene load_steps=56 format=3 uid="uid://34olrx86jbjf"]

[ext_resource type="Script" uid="uid://cl00kaqwlsfi2" path="res://Scripts/main_street.gd" id="1_6e07w"]
[ext_resource type="Texture2D" uid="uid://cbttgi0epj26d" path="res://assets/backgrounds/main_street.png" id="1_eif53"]
[ext_resource type="PackedScene" uid="uid://oqopv2vp1ofj" path="res://player/player.tscn" id="2_h1lmc"]
[ext_resource type="Texture2D" uid="uid://dd65dxjr6v2b8" path="res://assets/main_street_objects/main_street_left_roof.png" id="3_3c7gq"]
[ext_resource type="Texture2D" uid="uid://ce5xht61jurfs" path="res://assets/main_street_objects/main_street_right_roof.png" id="4_bivvy"]
[ext_resource type="Texture2D" uid="uid://di3exrpak7x7o" path="res://assets/main_street_objects/main_street_pink_house.png" id="5_6e07w"]
[ext_resource type="Texture2D" uid="uid://cx6pluixje7e0" path="res://assets/main_street_objects/main_street_shop.png" id="6_drii4"]
[ext_resource type="Texture2D" uid="uid://ca2h2mvb6vjbi" path="res://assets/main_street_objects/main_street_trash_cans.png" id="7_le1d0"]
[ext_resource type="Texture2D" uid="uid://817viul2vd1q" path="res://assets/main_street_objects/main_street_trees.png" id="8_6c23v"]
[ext_resource type="Texture2D" uid="uid://cq1on8yyjygqa" path="res://assets/main_street_objects/main_street_door_fence.png" id="9_0xgxe"]
[ext_resource type="Texture2D" uid="uid://vdmsx2pxmgqu" path="res://assets/main_street_objects/main_street_pink_house2.png" id="10_rkexx"]
[ext_resource type="Texture2D" uid="uid://opf48n5bxk7s" path="res://assets/main_street_objects/main_street_yellow_house.png" id="11_oahl2"]
[ext_resource type="Texture2D" uid="uid://ddleaikbx2gm7" path="res://assets/main_street_objects/main_street_grey_house.png" id="12_6u5q2"]
[ext_resource type="Texture2D" uid="uid://dxrsktkorwrb" path="res://assets/main_street_objects/main_street_door_shop.png" id="14_bivvy"]
[ext_resource type="PackedScene" uid="uid://cml6p061tfgu" path="res://scenes/UIRoot.tscn" id="15_6e07w"]
[ext_resource type="Script" uid="uid://baddn342dmq27" path="res://Scripts/door.gd" id="15_bivvy"]
[ext_resource type="Texture2D" uid="uid://djbigkd4jy13c" path="res://assets/main_street_objects/lamps.png" id="17_6u5q2"]
[ext_resource type="Texture2D" uid="uid://nwwnkegsojb4" path="res://assets/near-library-objects/car-leftside.png" id="18_6c23v"]
[ext_resource type="Script" uid="uid://vp22na8u7c8m" path="res://Scripts/AreaTrigger.gd" id="18_le1d0"]
[ext_resource type="Script" uid="uid://s83ue36q5jqy" path="res://Scripts/Item.gd" id="19_0xgxe"]
[ext_resource type="Texture2D" uid="uid://guih1t76y8wv" path="res://assets/icons/book3.png" id="20_rkexx"]
[ext_resource type="Texture2D" uid="uid://cwbac5518lnuh" path="res://assets/objects-for-inventory/book3.png" id="21_rkexx"]
[ext_resource type="Texture2D" uid="uid://q2gvnfgdfofm" path="res://assets/near-library-objects/car-rightside.png" id="22_oahl2"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_laxlr"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lygat"]
size = Vector2(1392, 382)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bvi0a"]
size = Vector2(1047.75, 374)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ieyt4"]
size = Vector2(784, 385)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_xbw02"]
size = Vector2(215, 16)

[sub_resource type="CapsuleShape2D" id="CapsuleShape2D_ieyt4"]
radius = 62.0
height = 430.0

[sub_resource type="RectangleShape2D" id="RectangleShape2D_cfjg5"]
size = Vector2(345.5, 490)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1sjm4"]
size = Vector2(51.5, 384)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_jgc30"]
size = Vector2(116.5, 321.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kox1y"]
size = Vector2(307, 257.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_c2fwu"]
size = Vector2(1812, 618)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6loc5"]
size = Vector2(259, 119.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6u5q2"]
size = Vector2(523, 228)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_oyeu8"]
size = Vector2(174, 1064)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o27cm"]
size = Vector2(188.5, 1070)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_phmlb"]
size = Vector2(154.5, 945)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7rt0o"]
size = Vector2(614, 1061)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_53f7h"]
size = Vector2(3012, 247)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_nwcjo"]
size = Vector2(247, 1425)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4tcex"]
size = Vector2(665, 616)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0t5g4"]
size = Vector2(207, 1521)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_a2xgc"]
size = Vector2(322, 230)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_v6rxp"]
size = Vector2(37, 37)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_sxxm6"]
size = Vector2(210, 158)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6e07w"]
size = Vector2(81, 38)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_bivvy"]
size = Vector2(60, 374)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_3c7gq"]
size = Vector2(176, 48.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_drii4"]
size = Vector2(134, 30.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_6c23v"]
size = Vector2(53.5, 522)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_le1d0"]
size = Vector2(157.5, 97)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_oahl2"]
size = Vector2(102, 149)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gdyee"]
size = Vector2(262, 204)

[node name="Main_street" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_6e07w")

[node name="Bgd" type="Sprite2D" parent="."]
y_sort_enabled = true
texture = ExtResource("1_eif53")
metadata/_edit_lock_ = true

[node name="Player" parent="." groups=["player"] instance=ExtResource("2_h1lmc")]
z_index = 1
position = Vector2(-1309, 332)

[node name="Camera2D" type="Camera2D" parent="Player"]
position = Vector2(-1, 2)
zoom = Vector2(0.75, 0.75)
limit_left = -1500
limit_top = -1065
limit_right = 1500
limit_bottom = 1065

[node name="Left-roof" type="StaticBody2D" parent="."]
physics_material_override = SubResource("PhysicsMaterial_laxlr")

[node name="Left_roof" type="Sprite2D" parent="Left-roof"]
z_index = 3
position = Vector2(-5, 5)
texture = ExtResource("3_3c7gq")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Left-roof"]
z_index = 3
z_as_relative = false
y_sort_enabled = true
position = Vector2(-500, 871)
shape = SubResource("RectangleShape2D_lygat")

[node name="Right-roof" type="StaticBody2D" parent="."]

[node name="Sprite2D" type="Sprite2D" parent="Right-roof"]
z_index = 3
texture = ExtResource("4_bivvy")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Right-roof"]
z_index = 3
position = Vector2(978.875, 873)
shape = SubResource("RectangleShape2D_bvi0a")

[node name="pink-building" type="StaticBody2D" parent="."]
z_index = 1
y_sort_enabled = true

[node name="Sprite2D" type="Sprite2D" parent="pink-building"]
texture = ExtResource("5_6e07w")

[node name="CollisionShape2D" type="CollisionShape2D" parent="pink-building"]
z_index = 2
position = Vector2(-980, -194.5)
shape = SubResource("RectangleShape2D_ieyt4")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="pink-building"]
position = Vector2(-1079.5, 6)
shape = SubResource("RectangleShape2D_xbw02")

[node name="trash-cans" type="StaticBody2D" parent="."]
z_index = 1
y_sort_enabled = true

[node name="Sprite2D" type="Sprite2D" parent="trash-cans"]
position = Vector2(-302, -247)
texture = ExtResource("7_le1d0")
offset = Vector2(300, 250)

[node name="CollisionShape2D" type="CollisionShape2D" parent="trash-cans"]
z_index = 1
position = Vector2(-306, -208)
shape = SubResource("CapsuleShape2D_ieyt4")

[node name="shop" type="StaticBody2D" parent="."]
z_index = 1
y_sort_enabled = true

[node name="Sprite2D" type="Sprite2D" parent="shop"]
position = Vector2(-3, -143)
texture = ExtResource("6_drii4")
offset = Vector2(0, 150)

[node name="CollisionShape2D" type="CollisionShape2D" parent="shop"]
position = Vector2(-71.75, -253)
shape = SubResource("RectangleShape2D_cfjg5")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="shop"]
position = Vector2(245.25, -205)
shape = SubResource("RectangleShape2D_1sjm4")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="shop"]
position = Vector2(160.75, -230.75)
shape = SubResource("RectangleShape2D_jgc30")

[node name="trees" type="StaticBody2D" parent="."]
z_index = 3
y_sort_enabled = true

[node name="Sprite2D" type="Sprite2D" parent="trees"]
y_sort_enabled = true
texture = ExtResource("8_6c23v")

[node name="CollisionShape2D" type="CollisionShape2D" parent="trees"]
z_index = 2
position = Vector2(-1350.5, 931.75)
shape = SubResource("RectangleShape2D_kox1y")

[node name="fence&flowers" type="StaticBody2D" parent="."]
y_sort_enabled = true

[node name="Sprite2D" type="Sprite2D" parent="fence&flowers"]
y_sort_enabled = true
texture = ExtResource("9_0xgxe")

[node name="CollisionShape2D" type="CollisionShape2D" parent="fence&flowers"]
position = Vector2(-17, -772)
shape = SubResource("RectangleShape2D_c2fwu")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="fence&flowers"]
position = Vector2(-367.5, -403.25)
shape = SubResource("RectangleShape2D_6loc5")

[node name="pinkBuid2" type="StaticBody2D" parent="."]

[node name="Sprite2D" type="Sprite2D" parent="pinkBuid2"]
visible = false
z_index = 3
texture = ExtResource("10_rkexx")

[node name="Collegebarrier" type="CollisionShape2D" parent="pinkBuid2"]
position = Vector2(-848.5, -499)
shape = SubResource("RectangleShape2D_6u5q2")
disabled = true

[node name="yellow-building" type="StaticBody2D" parent="."]

[node name="Sprite2D" type="Sprite2D" parent="yellow-building"]
texture = ExtResource("11_oahl2")

[node name="CollisionShape2D" type="CollisionShape2D" parent="yellow-building"]
position = Vector2(356, -530)
shape = SubResource("RectangleShape2D_oyeu8")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="yellow-building"]
position = Vector2(694.75, -531)
shape = SubResource("RectangleShape2D_o27cm")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="yellow-building"]
position = Vector2(522.75, -591.5)
shape = SubResource("RectangleShape2D_phmlb")

[node name="grey-building" type="StaticBody2D" parent="."]

[node name="Sprite2D" type="Sprite2D" parent="grey-building"]
texture = ExtResource("12_6u5q2")

[node name="CollisionShape2D" type="CollisionShape2D" parent="grey-building"]
position = Vector2(1197, -532.5)
shape = SubResource("RectangleShape2D_7rt0o")

[node name="Area2D" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
position = Vector2(-2, 1179.5)
shape = SubResource("RectangleShape2D_53f7h")

[node name="CollisionShape2D2" type="CollisionShape2D" parent="Area2D"]
position = Vector2(1625.5, 358.5)
shape = SubResource("RectangleShape2D_nwcjo")

[node name="CollisionShape2D3" type="CollisionShape2D" parent="Area2D"]
position = Vector2(-1378.5, -763)
shape = SubResource("RectangleShape2D_4tcex")

[node name="CollisionShape2D4" type="CollisionShape2D" parent="Area2D"]
position = Vector2(-1607.5, 305.5)
shape = SubResource("RectangleShape2D_0t5g4")

[node name="CollisionShape2D5" type="CollisionShape2D" parent="Area2D"]
position = Vector2(-1213, -357)
shape = SubResource("RectangleShape2D_a2xgc")

[node name="CollisionShape2D6" type="CollisionShape2D" parent="Area2D"]
position = Vector2(1014, 93.75)
shape = SubResource("RectangleShape2D_v6rxp")

[node name="CollisionShape2D7" type="CollisionShape2D" parent="Area2D"]
position = Vector2(-539.5, 91.5)
shape = SubResource("RectangleShape2D_v6rxp")

[node name="CollisionShape2D8" type="CollisionShape2D" parent="Area2D"]
position = Vector2(820, -486)
shape = SubResource("RectangleShape2D_sxxm6")

[node name="Lamps" type="Area2D" parent="."]
z_index = 1
y_sort_enabled = true

[node name="Sprite2D" type="Sprite2D" parent="Lamps"]
position = Vector2(13, 107)
scale = Vector2(1.00833, 1)
texture = ExtResource("17_6u5q2")
offset = Vector2(0, -380)

[node name="ShopDoor" type="Area2D" parent="."]
z_index = 1
y_sort_enabled = true
position = Vector2(-200, 171)
script = ExtResource("15_bivvy")
target_scene = "res://scenes/Shop.tscn"
target_door_name = "ShopDoor"

[node name="CollisionShape2D" type="CollisionShape2D" parent="ShopDoor"]
z_index = 2
position = Vector2(355, -227)
shape = SubResource("RectangleShape2D_6e07w")

[node name="Sprite2D" type="Sprite2D" parent="ShopDoor"]
position = Vector2(352, -215)
texture = ExtResource("14_bivvy")
offset = Vector2(-155, 50)

[node name="library-street-enter" type="Area2D" parent="."]
position = Vector2(1375, 245)
script = ExtResource("15_bivvy")
target_scene = "res://scenes/Near-library.tscn"
target_door_name = "main-street-enter"

[node name="Sprite2D" type="Sprite2D" parent="library-street-enter"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="library-street-enter"]
position = Vector2(93, 3)
shape = SubResource("RectangleShape2D_bivvy")

[node name="station-way-enter" type="Area2D" parent="."]
position = Vector2(339, 979)
script = ExtResource("15_bivvy")
target_scene = "res://scenes/Way-to-station.tscn"
target_door_name = "main-street-from-st"

[node name="Sprite2D" type="Sprite2D" parent="station-way-enter"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="station-way-enter"]
position = Vector2(-8, 64.75)
shape = SubResource("RectangleShape2D_3c7gq")

[node name="college-garden-enter" type="Area2D" parent="."]
position = Vector2(-983, -1000)
script = ExtResource("15_bivvy")
target_scene = "res://scenes/College-garden.tscn"
target_door_name = "main-from-college-enter"

[node name="Sprite2D" type="Sprite2D" parent="college-garden-enter"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="college-garden-enter"]
position = Vector2(-2, -53.25)
shape = SubResource("RectangleShape2D_drii4")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="UIroot" parent="CanvasLayer" instance=ExtResource("15_6e07w")]

[node name="car4" type="StaticBody2D" parent="."]
z_index = 1
y_sort_enabled = true
position = Vector2(0, -10)

[node name="Sprite2D" type="Sprite2D" parent="car4"]
position = Vector2(-1203.6, 130.5)
scale = Vector2(1.07446, 1.03741)
texture = ExtResource("18_6c23v")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="car4"]
position = Vector2(-2537.71, 302)
scale = Vector2(1.05858, 1)
polygon = PackedVector2Array(1040, -72, 1017, -112, 1017, -195, 1123, -218, 1437, -209, 1448, -164, 1443, -95, 1383, -69)

[node name="car5" type="StaticBody2D" parent="."]
z_index = 1
y_sort_enabled = true
position = Vector2(0, -6)

[node name="Sprite2D" type="Sprite2D" parent="car5"]
position = Vector2(-649.6, 120.5)
scale = Vector2(1.07446, 1.03741)
texture = ExtResource("18_6c23v")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="car5"]
position = Vector2(-1983.71, 292)
scale = Vector2(1.05858, 1)
polygon = PackedVector2Array(1040, -72, 1017, -112, 1017, -195, 1123, -218, 1437, -209, 1448, -164, 1443, -95, 1383, -69)

[node name="city-exit" type="Area2D" parent="."]
script = ExtResource("18_le1d0")
trigger_lines = Array[String](["Я звідти прийшов.", "Там точно немає відповідей."])
one_shot = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="city-exit"]
z_index = 3
position = Vector2(-1512.75, 315)
shape = SubResource("RectangleShape2D_6c23v")

[node name="yellow-doors" type="Area2D" parent="."]
script = ExtResource("18_le1d0")
trigger_lines = Array[String](["Зачинено."])
one_shot = false

[node name="CollisionShape2D" type="CollisionShape2D" parent="yellow-doors"]
position = Vector2(521.25, -148.5)
shape = SubResource("RectangleShape2D_le1d0")

[node name="Book3" type="Area2D" parent="."]
z_index = 1
y_sort_enabled = true
position = Vector2(144, -361)
rotation = -0.404916
script = ExtResource("19_0xgxe")
item_name = "book3"
icon = ExtResource("20_rkexx")

[node name="Sprite2D" type="Sprite2D" parent="Book3"]
position = Vector2(-569, -174)
scale = Vector2(0.473333, 0.473333)
texture = ExtResource("21_rkexx")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Book3"]
polygon = PackedVector2Array(-579, -154, -579, -201, -559, -202, -559, -154)

[node name="car6" type="StaticBody2D" parent="."]
z_index = 1
y_sort_enabled = true

[node name="Sprite2D" type="Sprite2D" parent="car6"]
position = Vector2(1323, 454)
scale = Vector2(1.07446, 1.03741)
texture = ExtResource("22_oahl2")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="car6"]
position = Vector2(-15, 623)
scale = Vector2(1.05858, 1)
polygon = PackedVector2Array(1040, -72, 1017, -112, 1017, -195, 1123, -218, 1437, -209, 1448, -164, 1443, -95, 1383, -69)

[node name="fence" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="fence"]
position = Vector2(840, -383)
shape = SubResource("RectangleShape2D_oahl2")

[node name="way" type="Area2D" parent="."]
script = ExtResource("18_le1d0")
trigger_lines = Array[String](["Тут і справді є дорога."])
trigger_id = "trigger_2"

[node name="CollisionShape2D" type="CollisionShape2D" parent="way"]
position = Vector2(-987, -455)
shape = SubResource("RectangleShape2D_gdyee")
one_way_collision = true

[connection signal="body_entered" from="ShopDoor" to="ShopDoor" method="_on_body_entered"]
[connection signal="body_entered" from="library-street-enter" to="library-street-enter" method="_on_body_entered"]
[connection signal="body_entered" from="station-way-enter" to="station-way-enter" method="_on_body_entered"]
[connection signal="body_entered" from="college-garden-enter" to="college-garden-enter" method="_on_body_entered"]
